<!doctype html>
<html lang="pt-BR">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Formulário de Precificação</title>
  <link rel="stylesheet" href="assets/styles.css" />
</head>
<body>
  <main class="container">
    <h1>Formulário de Precificação</h1>

    <form id="sample-form" autocomplete="off">
      <h2>Novos Cargos</h2>
      <label for="new-name">Nome do cargo</label>
      <input id="new-name" name="name" type="text" placeholder="Nome do cargo" required />

      <!-- Substituído: pergunta sobre Periculosidade e Insalubridade -->
      <fieldset style="border:0;padding:0;margin:8px 0;">
        <legend style="font-weight:600">Periculosidade</legend>
        <label><input type="radio" name="periculosidade" id="periculosidade-sim" value="sim"> Sim</label>
        <label style="margin-left:12px;"><input type="radio" name="periculosidade" id="periculosidade-nao" value="nao" checked> Não</label>
      </fieldset>

      <fieldset style="border:0;padding:0;margin:8px 0;">
        <legend style="font-weight:600">Insalubridade</legend>
        <label><input type="radio" name="insalubridade" id="insalubridade-sim" value="sim"> Sim</label>
        <label style="margin-left:12px;"><input type="radio" name="insalubridade" id="insalubridade-nao" value="nao" checked> Não</label>

        <div id="insalubridade-options" style="margin-top:8px;display:none;">
          <label for="insalubridade-percent">Percentual de Insalubridade</label>
          <select id="insalubridade-percent">
            <option value="20">20%</option>
            <option value="40">40%</option>
          </select>
        </div>
      </fieldset>

      <label for="new-hours">Carga horária (h/semana)</label>
      <input id="new-hours" name="hours" type="number" min="0" placeholder="40" />

      <label for="new-salary">Salário (R$)</label>
      <input id="new-salary" name="salary" type="text" placeholder="0,00" value="R$0,00" />

      <div style="margin-top:10px;display:flex;gap:8px;">
        <button type="submit">Salvar cargo</button>
        <button id="cancel-new-cargo" type="button" style="background:#e53e3e">Cancelar</button>
      </div>
    </form>

    <!-- layout inline para criar novo cargo (oculto por padrão) -->
    <div id="create-cargo-inline" class="create-cargo hidden">
      <h2>Criar Novo Cargo</h2>
      <label for="new-name-inline">Nome do cargo</label>
      <input id="new-name-inline" type="text" placeholder="Nome do cargo" />

      <!-- Substituído: pergunta sobre Periculosidade e Insalubridade -->
      <fieldset style="border:0;padding:0;margin:8px 0;">
        <legend style="font-weight:600">Periculosidade</legend>
        <label><input type="radio" name="periculosidade" id="periculosidade-sim-inline" value="sim"> Sim</label>
        <label style="margin-left:12px;"><input type="radio" name="periculosidade" id="periculosidade-nao-inline" value="nao" checked> Não</label>
      </fieldset>

      <fieldset style="border:0;padding:0;margin:8px 0;">
        <legend style="font-weight:600">Insalubridade</legend>
        <label><input type="radio" name="insalubridade" id="insalubridade-sim-inline" value="sim"> Sim</label>
        <label style="margin-left:12px;"><input type="radio" name="insalubridade" id="insalubridade-nao-inline" value="nao" checked> Não</label>

        <div id="insalubridade-options-inline" style="margin-top:8px;display:none;">
          <label for="insalubridade-percent-inline">Percentual de Insalubridade</label>
          <select id="insalubridade-percent-inline">
            <option value="20">20%</option>
            <option value="40">40%</option>
          </select>
        </div>
      </fieldset>

      <label for="new-hours-inline">Carga horária (h/semana)</label>
      <input id="new-hours-inline" type="number" min="0" placeholder="40" />

      <label for="new-salary-inline">Salário-Base (R$)</label>
      <input id="new-salary-inline" type="text" placeholder="0,00" value="R$0,00" />

      <div style="margin-top:10px;display:flex;gap:8px;">
        <button id="save-new-cargo" type="button">Salvar cargo</button>
        <button id="cancel-new-cargo" type="button" style="background:#e53e3e">Cancelar</button>
      </div>
    </div>

    <section aria-live="polite" id="result" class="result"></section>
  </main>

  <div class="controls" style="max-width:720px;margin:16px auto;">
    <button id="export-xlsx" type="button">Exportar respostas para Excel (.xlsx)</button>
    <button id="clear-responses" type="button" style="margin-left:8px;background:#e53e3e">Limpar respostas</button>
    <span id="responses-count" style="margin-left:12px;color:#334155"></span>
  </div>

  <!-- SheetJS para exportar .xlsx (fallback cria CSV se não disponível) -->
  <script src="https://cdn.jsdelivr.net/npm/xlsx/dist/xlsx.full.min.js"></script>
  <script src="assets/script.js"></script>
</body>
</html>